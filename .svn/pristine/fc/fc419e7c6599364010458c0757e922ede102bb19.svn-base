package com.qs.webside.util;
import javax.servlet.http.HttpServletRequest;

import org.apache.commons.lang.StringUtils;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.apache.shiro.SecurityUtils;
import org.springframework.context.ApplicationContext;
import org.springframework.web.bind.ServletRequestUtils;
import org.springframework.web.context.ContextLoader;
import org.springframework.web.context.request.RequestAttributes;
import org.springframework.web.context.request.RequestContextHolder;
import org.springframework.web.context.request.ServletRequestAttributes;
import org.springframework.web.servlet.support.RequestContextUtils;
import com.fasterxml.jackson.databind.ObjectMapper;

public abstract class ContextUtil extends ServletRequestUtils{
	private static final Log log = LogFactory.getLog(ContextUtil.class);

	
	/**
	 * 根据accessToken获取相关用户信息
	 * @param accessToken
	 * @return
	 */
	public static AccessToken getAccessTokenInfo(String sesskey){
		AccessToken accessTokenInfo = new AccessToken();
	    if(StringUtils.isBlank(sesskey)){
	        return accessTokenInfo;
	    }


	    if(StringUtils.isBlank(sesskey)){
	        return accessTokenInfo;
	    }


	    String[] infoArray = sesskey.split("-");
	    
	    if(null!=infoArray&&infoArray.length>0){
	    	 accessTokenInfo.setMid(Integer.parseInt(infoArray[0]));
	    	 accessTokenInfo.setGb(Integer.parseInt(infoArray[1]));
	    }
	    return accessTokenInfo;
	}
	
}
